<div class="container">
  <div class="card border-secondary mx-auto w-50 text-center">
    <div class="card-header bg-dark">
      <h3>Validation de la commande</h3>
    </div>
    <div class="card-body bg-white text-dark">
      <h4 class="card-title">Achat de <%= @credits %> crédits</h4>
        <%= form_tag credit_orders_path do %>
          <article>
            <% if flash[:error].present? %>
              <div id="error_explanation">
                <p><%= flash[:error] %></p>
              </div>
            <% end %>
            <label class="amount">
              <span><strong>Prix: <%= @amount %> € </strong></span>
            </label>
          </article>
          <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
            data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
            data-description="Achat de crédits"
            data-label="Payer" <%= @amount %>
            data-amount=<%= @stripe_amount %>
            data-currency="eur"
            data-locale="auto">
          </script>
          <script>
            // Hide and change default stripe button
            document.getElementsByClassName("stripe-button-el")[0].style.display = 'none';
          </script>
          <button type="submit" class="btn btn-success">Proceder au paiement</button>
        <% end %>
    </div>
  </div>
</div>