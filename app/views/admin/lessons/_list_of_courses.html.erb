<div class="card my-3 bg-white text-dark dashboard-right-card">
  <div class="card-header bg-white">
    <div class="row">
      <div class="mx-2">
        <i class="fas fa-list fa-3x"></i>
      </div>
      <div class="d-flex mx-2">
          <h3><strong>Liste des cours en ligne</strong></h3>
          <h3><span class="badge badge-dark mx-3"> <%= @lessons.count %></span></h3>
      </div>
      <div class="d-flex ml-auto mx-2">
        <input class="form-control" id="myInput" type="text" placeholder="Rechercher">
      </div>
    </div>
  </div>
  <div class="card-body">  
    <table class="table table-bordered table-striped text-dark">
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>Professeur</th>
          <th>Email du professeur</th>
          <th>Date de création</th>
          <th>Nombre d'inscriptions</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="myTable">
        <% @lessons.each do |lesson| %>
        <tr id="lesson-<%= lesson.id %>">
          <td class="align-middle"><%= lesson.id %></td>
          <td class="align-middle"><%= lesson.title %></td>
          <td class="align-middle"><%= lesson.teacher.display_name %></td>
          <td class="align-middle"><%= lesson.teacher.email %></td>
          <td class="align-middle"><%= lesson.created_at.strftime('%d/%m/%Y') %></td>
          <td class="align-middle"><%= lesson.bookings.count %></td>
          <td class="align-middle">
            <%= link_to admin_lesson_path(lesson.id), class: "mx-2 text-danger", title:"Supprimer le cours", method: :delete, remote: true, data: {confirm: "Es-tu sûr(e) de vouloir supprimer ce cours ?"}  do %>
              <i class="fas fa-times fa-2x"></i>
            <% end %>
            <%= link_to lesson, class: "mx-2 text-info", title:"Voir la leçon" do %>
              <i class="fas fa-eye fa-2x"></i>
            <% end %>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
